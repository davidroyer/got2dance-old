!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){function e(e,n,l,t,d){function c(a,o){var n=o||[{message:a}],r=window.console,l=r?r.warn||r.log:null;(e.googleCalendarError||$.noop).apply(d,n),(d.options.googleCalendarError||$.noop).apply(d,n),l&&l.apply(r,[a].concat(o||[]))}var i=o+"/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",s=e.googleCalendarApiKey||d.options.googleCalendarApiKey,u=e.success,g,p;return s?(n.hasZone()||(n=n.clone().utc().add(-1,"day")),l.hasZone()||(l=l.clone().utc().add(1,"day")),t&&"local"!=t&&(p=t.replace(" ","_")),g=$.extend({},e.data||{},{key:s,timeMin:n.format(),timeMax:l.format(),timeZone:p,singleEvents:!0,maxResults:9999}),$.extend({},e,{googleCalendarId:null,url:i,data:g,startParam:!1,endParam:!1,timezoneParam:!1,success:function(e){var o=[],n,l;if(e.error)c("Google Calendar API: "+e.error.message,e.error.errors);else if(e.items&&($.each(e.items,function(e,n){var r=n.htmlLink;p&&(r=a(r,"ctz="+p)),o.push({id:n.id,title:n.summary,start:n.start.dateTime||n.start.date,end:n.end.dateTime||n.end.date,url:r,location:n.location,description:n.description})}),n=[o].concat(Array.prototype.slice.call(arguments,1)),l=r(u,this,n),$.isArray(l)))return l;return o}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function a(e,a){return e.replace(/(\?.*?)?(#|$)/,function(e,o,n){return(o?o+"&":"?")+a+n})}var o="https://www.googleapis.com/calendar/v3/calendars",n=$.fullCalendar,r=n.applyAll;n.sourceNormalizers.push(function(e){var a=e.googleCalendarId,o=e.url,n;!a&&o&&((n=/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(o))?a=o:((n=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(o))||(n=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(o)))&&(a=decodeURIComponent(n[1])),a&&(e.googleCalendarId=a)),a&&(null==e.editable&&(e.editable=!1),e.url=a)}),n.sourceFetchers.push(function(a,o,n,r){return a.googleCalendarId?e(a,o,n,r,this):void 0})});